/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three-bmfont-text@3.0.1/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var createLayout=require("layout-bmfont-text"),inherits=require("inherits"),createIndices=require("quad-indices"),vertices=require("./lib/vertices"),utils=require("./lib/utils"),Base=THREE.BufferGeometry;function TextGeometry(t){Base.call(this),"string"==typeof t&&(t={text:t}),this._opt=Object.assign({},t),t&&this.update(t)}module.exports=function(t){return new TextGeometry(t)},inherits(TextGeometry,Base),TextGeometry.prototype.update=function(t){if("string"==typeof t&&(t={text:t}),!(t=Object.assign({},this._opt,t)).font)throw new TypeError("must specify a { font } in options");this.layout=createLayout(t);var e=!1!==t.flipY,i=t.font,r=i.common.scaleW,o=i.common.scaleH,s=this.layout.glyphs.filter(function(t){var e=t.data;return e.width*e.height>0});this.visibleGlyphs=s;var n=vertices.positions(s),u=vertices.uvs(s,r,o,e),a=createIndices([],{clockwise:!0,type:"uint16",count:s.length});if(this.setIndex(a),this.setAttribute("position",new THREE.BufferAttribute(n,2)),this.setAttribute("uv",new THREE.BufferAttribute(u,2)),!t.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(t.multipage){var h=vertices.pages(s);this.setAttribute("page",new THREE.BufferAttribute(h,1))}},TextGeometry.prototype.computeBoundingSphere=function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var t=this.attributes.position.array,e=this.attributes.position.itemSize;if(!t||!e||t.length<2)return this.boundingSphere.radius=0,void this.boundingSphere.center.set(0,0,0);utils.computeSphere(t,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')},TextGeometry.prototype.computeBoundingBox=function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var t=this.boundingBox,e=this.attributes.position.array,i=this.attributes.position.itemSize;!e||!i||e.length<2?t.makeEmpty():utils.computeBox(e,t)};
//# sourceMappingURL=/sm/6dee18aefb8a7f1180bbb9a1647cc044847565cccb9fbc533f52ebf11a4c4086.map